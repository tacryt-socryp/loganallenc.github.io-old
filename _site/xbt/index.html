<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="world of idea" />
  <link rel="stylesheet" href="/css/main.css">
  <title>world of idea</title>
</head>


  <body>

    <header class="site" role="banner">
  <nav role="navigation">
    <a class="title" href="/">world of idea</a>

    
      
    
      
      <a href="/about/">about</a>
      
    
      
    
      
    
      
    
      
      <a href="/xbt/">summed price of $xbt</a>
      
    
      
    
      
    
  </nav>

  <p class="tag"></p>
</header>


    <main aria-label="Content" role="main">
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script type="text/javascript">

function request(url, callback) {
  var xmlhttp = new XMLHttpRequest();

  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      callback(this.responseText);
    }
  };

  xmlhttp.open("GET", url, true);
  xmlhttp.send();
}

window.onload = function() {
  request("https://api.coindesk.com/v1/bpi/historical/close.json", function(response) {
    var data = JSON.parse(response);
    console.log(data);
    var tester = document.getElementById('tester');
    var x = Object.keys(data.bpi);
    var y = [];
    for (var keys in x) {
      y.push(data.bpi[x[keys]]);
    }
    Plotly.plot(tester, [{
    	x: x,
    	y: y
    }], {
    	margin: { t: 0 }
    });
  });
};

</script>
<p>This is a graph of $BTC.</p>
<div id="tester" style="width:600px;height:250px;"></div>

    </main>

    <footer>
  <div style="display: inline-block; float:right;">
    <a href="https://twitter.com/loganallenc">twitter</a>
    <a href="https://github.com/loganallenc">github</a>
  </div>
  <p class="copyright"><small>Copyright &copy; 2017</small></p>
</footer>


  </body>

</html>
